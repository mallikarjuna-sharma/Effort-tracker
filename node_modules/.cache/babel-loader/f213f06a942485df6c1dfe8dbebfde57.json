{"ast":null,"code":"var _jsxFileName = \"/Users/mallik/projects/Effort-tracker/src/Register.jsx\";\nimport React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { Dialog, Slide } from \"@material-ui/core\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Typography, Grid, TextField } from \"@material-ui/core\";\nimport stringConstants from \"./stringConstants.jsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport useStyles from \"./styles.jsx\";\nimport { loginUser } from \"./service.js\";\n\nconst styles = theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2)\n  }\n});\n\nconst DialogTitle = withStyles(styles)(props => {\n  const {\n    children,\n    classes,\n    onClose,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(MuiDialogTitle, Object.assign({\n    disableTypography: true,\n    classTcsId: classes.root\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, children), onClose ? /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"close\",\n    classTcsId: classes.closeButton,\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  })) : null);\n});\nconst DialogContent = withStyles(theme => ({\n  root: {\n    padding: theme.spacing(2)\n  }\n}))(MuiDialogContent);\nconst DialogActions = withStyles(theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1)\n  }\n}))(MuiDialogActions);\nconst useStylesselect = makeStyles(theme => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  }\n}));\n\nfunction Register(props) {\n  const [open, setOpen] = React.useState(true);\n  const [TcsId, setTcsId] = React.useState(\" \");\n  const [phone, setphone] = React.useState(\" \");\n  const [password, setpassword] = React.useState(\" \");\n  const [confirmpassword, setconfirmpassword] = React.useState(\" \");\n  const [company, setcompany] = React.useState(\" \");\n  const [address, setaddress] = React.useState(\" \");\n  const [errorfield, seterrorfield] = React.useState(-1);\n  const [pageNumber, setPageNumber] = React.useState(1);\n  const [gmail, setgmail] = React.useState(\" \");\n  const {\n    setUserEffort,\n    setUserNamePassword\n  } = props;\n  const classes = useStyles();\n  const classesSelect = useStylesselect();\n\n  const handleRegistrationFieldChange = (val, type) => {\n    switch (type) {\n      case \"TcsId\":\n        {\n          setTcsId(val);\n          break;\n        }\n\n      case \"Phone\":\n        {\n          setphone(val);\n          break;\n        }\n\n      case \"Gmail\":\n        {\n          setgmail(val);\n          break;\n        }\n\n      case \"password\":\n        {\n          setpassword(val);\n          break;\n        }\n\n      case \"confirmpassword\":\n        {\n          setconfirmpassword(val);\n          break;\n        }\n\n      case \"Company TcsId\":\n        {\n          setcompany(val);\n          break;\n        }\n\n      case \"ADDRESS\":\n        {\n          setaddress(val);\n          break;\n        }\n\n      default:\n        break;\n    }\n  };\n\n  const handleLoginFieldChange = (val, type) => {\n    switch (type) {\n      case \"TcsId\":\n        {\n          setTcsId(val);\n          break;\n        }\n\n      case \"Password\":\n        {\n          setpassword(val);\n          break;\n        }\n    }\n  };\n\n  const handleLogin = () => {\n    if (!pageNumber) setPageNumber(1);else {\n      if (!TcsId || TcsId.length < 4) seterrorfield(0);else if (!password || password.length < 4) seterrorfield(1);else {\n        loginUser().then(res => {\n          console.log(res, \"res\");\n          if (res) setUserEffort(res.useEffort);\n          setUserNamePassword([TcsId, password]);\n          setOpen(false);\n        });\n      }\n    }\n  };\n\n  const handleRegister = type => {\n    if (pageNumber) setPageNumber(0);\n    if (!TcsId || TcsId.length < 4) seterrorfield(0);else if (!phone || phone.length < 4) seterrorfield(1);else if (!gmail || gmail.length < 4) seterrorfield(4);else if (!company || company.length < 4) seterrorfield(5);else if (!address || address.length < 4) seterrorfield(6);else if (TcsId && phone && type == \"register\") {} // let getRegister = props.registered;\n    // var error = false;\n    // getRegister.forEach(e => {\n    //     if (e.gmail === gmail || e.phone === phone) {\n    //         if (e.gmail === gmail) seterrorfield(4)\n    //         else if (e.phone === phone) seterrorfield(1)\n    //         error = true;\n    //         return;\n    //     }\n    // })\n    // if (!error) {\n    //     let arr = {\n    //         'phone': phone,\n    //         'TcsId': TcsId,\n    //         'password': password,\n    //         'gmail': gmail,\n    //         'company': company,\n    //         'address': address\n    //     };\n    //     getRegister.push(arr);\n    //     props.setRegister(getRegister)\n    //     let a = [];\n    //     a.push(arr)\n    //     props.isLoggedIn(a)\n    // }\n    // if (TcsId &&  password && (type == 'login')) {}\n  };\n\n  const StyledButton = withStyles({\n    root: {\n      background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n      borderRadius: 3,\n      border: 0,\n      color: \"white\",\n      height: 48,\n      padding: \"0 30px\",\n      boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\"\n    },\n    label: {\n      textTransform: \"capitalize\"\n    }\n  })(Button);\n\n  const getValue = (type, index) => {\n    if (type === \"register\") switch (index) {\n      case \"0\":\n        {\n          return TcsId;\n        }\n\n      case \"1\":\n        {\n          return phone;\n        }\n\n      case \"2\":\n        {\n          return password;\n        }\n\n      case \"3\":\n        {\n          return confirmpassword;\n        }\n\n      case \"4\":\n        {\n          return gmail;\n        }\n\n      case \"5\":\n        {\n          return company;\n        }\n\n      case \"5\":\n        {\n          return address;\n        }\n    } else switch (index) {\n      case \"0\":\n        {\n          return TcsId;\n        }\n\n      case \"1\":\n        {\n          return password;\n        }\n    }\n  };\n\n  const getErrorMsg = () => {\n    switch (errorfield) {\n      case 0:\n        return \"Enter Valid TcsId !\";\n\n      case 1:\n        return \"Enter Valid Number !\";\n\n      case 2:\n        return \"Enter Valid Password !\";\n\n      case 3:\n        return \"Enter Same Password !\";\n\n      case 4:\n        return \"Enter Valid Email\";\n\n      case 5:\n        return \"Enter Valid Company\";\n\n      case 6:\n        return \"Enter Valid Address\";\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    \"aria-labelledby\": \"customized-dialog-title\",\n    open: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"customized-dialog-title\",\n    style: {\n      background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, !pageNumber ? \"Register\" : \"Login\", \" Yourself !\"), /*#__PURE__*/React.createElement(DialogContent, {\n    dividers: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    classTcsId: classesSelect.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }\n  }, !pageNumber ? stringConstants.REGISTERFIELDS.map((ind, index) => /*#__PURE__*/React.createElement(TextField, {\n    key: index,\n    id: ind.id,\n    type: ind.type,\n    error: index === errorfield ? true : 0,\n    helperText: index === errorfield ? getErrorMsg() : \"\",\n    required: true,\n    label: ind.label,\n    color: \"primary\",\n    onChange: e => handleRegistrationFieldChange(e.target.value, ind.id),\n    value: getValue(\"register\", index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 21\n    }\n  })) : stringConstants.LOGINFIELDS.map((ind, index) => /*#__PURE__*/React.createElement(TextField, {\n    key: index,\n    id: ind.id,\n    type: ind.type,\n    error: index === errorfield ? true : 0,\n    helperText: index === errorfield ? \"UserTcsId or Password is Wrong\" : \"\",\n    required: true,\n    label: ind.label,\n    color: \"primary\",\n    onChange: e => handleLoginFieldChange(e.target.value, ind.id),\n    value: getValue(\"login\", index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 6,\n    lg: 6,\n    sm: 6,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(StyledButton, {\n    onClick: () => {\n      handleRegister();\n    },\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 17\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 6,\n    lg: 6,\n    sm: 6,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\",\n    alignContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(StyledButton, {\n    color: \"primary\",\n    onClick: e => handleLogin(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 19\n    }\n  }, !pageNumber ? \"Existing user\" : \"\", \" Login\")))))));\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/mallik/projects/Effort-tracker/src/Register.jsx"],"names":["React","withStyles","Button","Dialog","Slide","MuiDialogTitle","MuiDialogContent","MuiDialogActions","IconButton","CloseIcon","Typography","Grid","TextField","stringConstants","makeStyles","useStyles","loginUser","styles","theme","root","margin","padding","spacing","DialogTitle","props","children","classes","onClose","other","closeButton","DialogContent","DialogActions","useStylesselect","formControl","minWidth","selectEmpty","marginTop","Register","open","setOpen","useState","TcsId","setTcsId","phone","setphone","password","setpassword","confirmpassword","setconfirmpassword","company","setcompany","address","setaddress","errorfield","seterrorfield","pageNumber","setPageNumber","gmail","setgmail","setUserEffort","setUserNamePassword","classesSelect","handleRegistrationFieldChange","val","type","handleLoginFieldChange","handleLogin","length","then","res","console","log","useEffort","handleRegister","StyledButton","background","borderRadius","border","color","height","boxShadow","label","textTransform","getValue","index","getErrorMsg","REGISTERFIELDS","map","ind","id","e","target","value","LOGINFIELDS"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,mBAA9B;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,UAAT,EAAqBC,IAArB,EAA2BC,SAA3B,QAA4C,mBAA5C;AACA,OAAOC,eAAP,MAA4B,uBAA5B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,OAAOC,SAAP,MAAsB,cAAtB;AAEA,SAASC,SAAT,QAA0B,cAA1B;;AAEA,MAAMC,MAAM,GAAIC,KAAD,KAAY;AACzBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE,CADJ;AAEJC,IAAAA,OAAO,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd;AAFL;AADmB,CAAZ,CAAf;;AAOA,MAAMC,WAAW,GAAGtB,UAAU,CAACgB,MAAD,CAAV,CAAoBO,KAAD,IAAW;AAChD,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,OAAZ;AAAqBC,IAAAA,OAArB;AAA8B,OAAGC;AAAjC,MAA2CJ,KAAjD;AACA,sBACE,oBAAC,cAAD;AAAgB,IAAA,iBAAiB,MAAjC;AAAkC,IAAA,UAAU,EAAEE,OAAO,CAACP;AAAtD,KAAgES,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BH,QAA1B,CADF,EAEGE,OAAO,gBACN,oBAAC,UAAD;AACE,kBAAW,OADb;AAEE,IAAA,UAAU,EAAED,OAAO,CAACG,WAFtB;AAGE,IAAA,OAAO,EAAEF,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADM,GAQJ,IAVN,CADF;AAcD,CAhBmB,CAApB;AAkBA,MAAMG,aAAa,GAAG7B,UAAU,CAAEiB,KAAD,KAAY;AAC3CC,EAAAA,IAAI,EAAE;AACJE,IAAAA,OAAO,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd;AADL;AADqC,CAAZ,CAAD,CAAV,CAIlBhB,gBAJkB,CAAtB;AAMA,MAAMyB,aAAa,GAAG9B,UAAU,CAAEiB,KAAD,KAAY;AAC3CC,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE,CADJ;AAEJC,IAAAA,OAAO,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd;AAFL;AADqC,CAAZ,CAAD,CAAV,CAKlBf,gBALkB,CAAtB;AAOA,MAAMyB,eAAe,GAAGlB,UAAU,CAAEI,KAAD,KAAY;AAC3Ce,EAAAA,WAAW,EAAE;AACXb,IAAAA,MAAM,EAAEF,KAAK,CAACI,OAAN,CAAc,CAAd,CADG;AAEXY,IAAAA,QAAQ,EAAE;AAFC,GAD8B;AAK3CC,EAAAA,WAAW,EAAE;AACXC,IAAAA,SAAS,EAAElB,KAAK,CAACI,OAAN,CAAc,CAAd;AADA;AAL8B,CAAZ,CAAD,CAAlC;;AAUA,SAASe,QAAT,CAAkBb,KAAlB,EAAyB;AACvB,QAAM,CAACc,IAAD,EAAOC,OAAP,IAAkBvC,KAAK,CAACwC,QAAN,CAAe,IAAf,CAAxB;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoB1C,KAAK,CAACwC,QAAN,CAAe,GAAf,CAA1B;AACA,QAAM,CAACG,KAAD,EAAQC,QAAR,IAAoB5C,KAAK,CAACwC,QAAN,CAAe,GAAf,CAA1B;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0B9C,KAAK,CAACwC,QAAN,CAAe,GAAf,CAAhC;AACA,QAAM,CAACO,eAAD,EAAkBC,kBAAlB,IAAwChD,KAAK,CAACwC,QAAN,CAAe,GAAf,CAA9C;AAEA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBlD,KAAK,CAACwC,QAAN,CAAe,GAAf,CAA9B;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBpD,KAAK,CAACwC,QAAN,CAAe,GAAf,CAA9B;AACA,QAAM,CAACa,UAAD,EAAaC,aAAb,IAA8BtD,KAAK,CAACwC,QAAN,CAAe,CAAC,CAAhB,CAApC;AAEA,QAAM,CAACe,UAAD,EAAaC,aAAb,IAA8BxD,KAAK,CAACwC,QAAN,CAAe,CAAf,CAApC;AAEA,QAAM,CAACiB,KAAD,EAAQC,QAAR,IAAoB1D,KAAK,CAACwC,QAAN,CAAe,GAAf,CAA1B;AAEA,QAAM;AAAEmB,IAAAA,aAAF;AAAgBC,IAAAA;AAAhB,MAAwCpC,KAA9C;AAEA,QAAME,OAAO,GAAGX,SAAS,EAAzB;AAEA,QAAM8C,aAAa,GAAG7B,eAAe,EAArC;;AAGA,QAAM8B,6BAA6B,GAAG,CAACC,GAAD,EAAMC,IAAN,KAAe;AACnD,YAAQA,IAAR;AACE,WAAK,OAAL;AAAc;AACZtB,UAAAA,QAAQ,CAACqB,GAAD,CAAR;AACA;AACD;;AACD,WAAK,OAAL;AAAc;AACZnB,UAAAA,QAAQ,CAACmB,GAAD,CAAR;AACA;AACD;;AACD,WAAK,OAAL;AAAc;AACZL,UAAAA,QAAQ,CAACK,GAAD,CAAR;AACA;AACD;;AACD,WAAK,UAAL;AAAiB;AACfjB,UAAAA,WAAW,CAACiB,GAAD,CAAX;AACA;AACD;;AACD,WAAK,iBAAL;AAAwB;AACtBf,UAAAA,kBAAkB,CAACe,GAAD,CAAlB;AACA;AACD;;AACD,WAAK,eAAL;AAAsB;AACpBb,UAAAA,UAAU,CAACa,GAAD,CAAV;AACA;AACD;;AACD,WAAK,SAAL;AAAgB;AACdX,UAAAA,UAAU,CAACW,GAAD,CAAV;AACA;AACD;;AACD;AACE;AA9BJ;AAgCD,GAjCD;;AAmCA,QAAME,sBAAsB,GAAG,CAACF,GAAD,EAAMC,IAAN,KAAe;AAE5C,YAAQA,IAAR;AACI,WAAK,OAAL;AAAc;AACZtB,UAAAA,QAAQ,CAACqB,GAAD,CAAR;AACA;AACD;;AACD,WAAK,UAAL;AAAiB;AACbjB,UAAAA,WAAW,CAACiB,GAAD,CAAX;AACF;AACD;AARL;AAWD,GAbD;;AAeA,QAAMG,WAAW,GAAG,MAAM;AACxB,QAAI,CAACX,UAAL,EAAiBC,aAAa,CAAC,CAAD,CAAb,CAAjB,KACK;AACH,UAAI,CAACf,KAAD,IAAUA,KAAK,CAAC0B,MAAN,GAAe,CAA7B,EAAgCb,aAAa,CAAC,CAAD,CAAb,CAAhC,KACK,IAAI,CAACT,QAAD,IAAaA,QAAQ,CAACsB,MAAT,GAAkB,CAAnC,EAAsCb,aAAa,CAAC,CAAD,CAAb,CAAtC,KACA;AACHtC,QAAAA,SAAS,GAAGoD,IAAZ,CAAkBC,GAAD,IAAS;AACxBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAAiB,KAAjB;AAEA,cAAIA,GAAJ,EAASV,aAAa,CAACU,GAAG,CAACG,SAAL,CAAb;AAETZ,UAAAA,mBAAmB,CAAC,CAACnB,KAAD,EAAOI,QAAP,CAAD,CAAnB;AAEAN,UAAAA,OAAO,CAAC,KAAD,CAAP;AAGD,SAVD;AAWD;AACF;AACF,GAnBD;;AAqBA,QAAMkC,cAAc,GAAIT,IAAD,IAAU;AAC/B,QAAIT,UAAJ,EAAgBC,aAAa,CAAC,CAAD,CAAb;AAEhB,QAAI,CAACf,KAAD,IAAUA,KAAK,CAAC0B,MAAN,GAAe,CAA7B,EAAgCb,aAAa,CAAC,CAAD,CAAb,CAAhC,KACK,IAAI,CAACX,KAAD,IAAUA,KAAK,CAACwB,MAAN,GAAe,CAA7B,EAAgCb,aAAa,CAAC,CAAD,CAAb,CAAhC,KACA,IAAI,CAACG,KAAD,IAAUA,KAAK,CAACU,MAAN,GAAe,CAA7B,EAAgCb,aAAa,CAAC,CAAD,CAAb,CAAhC,KACA,IAAI,CAACL,OAAD,IAAYA,OAAO,CAACkB,MAAR,GAAiB,CAAjC,EAAoCb,aAAa,CAAC,CAAD,CAAb,CAApC,KACA,IAAI,CAACH,OAAD,IAAYA,OAAO,CAACgB,MAAR,GAAiB,CAAjC,EAAoCb,aAAa,CAAC,CAAD,CAAb,CAApC,KACA,IAAIb,KAAK,IAAIE,KAAT,IAAkBqB,IAAI,IAAI,UAA9B,EAA0C,CA0B9C,CA1BI,CACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEF;AACD,GApCD;;AAsCA,QAAMU,YAAY,GAAGzE,UAAU,CAAC;AAC9BkB,IAAAA,IAAI,EAAE;AACJwD,MAAAA,UAAU,EAAE,kDADR;AAEJC,MAAAA,YAAY,EAAE,CAFV;AAGJC,MAAAA,MAAM,EAAE,CAHJ;AAIJC,MAAAA,KAAK,EAAE,OAJH;AAKJC,MAAAA,MAAM,EAAE,EALJ;AAMJ1D,MAAAA,OAAO,EAAE,QANL;AAOJ2D,MAAAA,SAAS,EAAE;AAPP,KADwB;AAU9BC,IAAAA,KAAK,EAAE;AACLC,MAAAA,aAAa,EAAE;AADV;AAVuB,GAAD,CAAV,CAalBhF,MAbkB,CAArB;;AAeA,QAAMiF,QAAQ,GAAG,CAACnB,IAAD,EAAOoB,KAAP,KAAiB;AAChC,QAAIpB,IAAI,KAAK,UAAb,EACE,QAAQoB,KAAR;AACE,WAAK,GAAL;AAAU;AACR,iBAAO3C,KAAP;AACD;;AACD,WAAK,GAAL;AAAU;AACR,iBAAOE,KAAP;AACD;;AACD,WAAK,GAAL;AAAU;AACR,iBAAOE,QAAP;AACD;;AACD,WAAK,GAAL;AAAU;AACR,iBAAOE,eAAP;AACD;;AACD,WAAK,GAAL;AAAU;AACR,iBAAOU,KAAP;AACD;;AACD,WAAK,GAAL;AAAU;AACR,iBAAOR,OAAP;AACD;;AACD,WAAK,GAAL;AAAU;AACR,iBAAOE,OAAP;AACD;AArBH,KADF,MAyBE,QAAQiC,KAAR;AACE,WAAK,GAAL;AAAU;AACR,iBAAO3C,KAAP;AACD;;AACD,WAAK,GAAL;AAAU;AACR,iBAAOI,QAAP;AACD;AANH;AAQH,GAlCD;;AAoCA,QAAMwC,WAAW,GAAG,MAAM;AACxB,YAAQhC,UAAR;AACE,WAAK,CAAL;AACE,eAAO,qBAAP;;AACF,WAAK,CAAL;AACE,eAAO,sBAAP;;AACF,WAAK,CAAL;AACE,eAAO,wBAAP;;AACF,WAAK,CAAL;AACE,eAAO,uBAAP;;AACF,WAAK,CAAL;AACE,eAAO,mBAAP;;AACF,WAAK,CAAL;AACE,eAAO,qBAAP;;AACF,WAAK,CAAL;AACE,eAAO,qBAAP;AAdJ;AAgBD,GAjBD;;AAmBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,MAAD;AAAQ,uBAAgB,yBAAxB;AAAkD,IAAA,IAAI,EAAEf,IAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AACE,IAAA,EAAE,EAAC,yBADL;AAEE,IAAA,KAAK,EAAE;AACLqC,MAAAA,UAAU,EAAE;AADP,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMG,CAACpB,UAAD,GAAc,UAAd,GAA2B,OAN9B,gBADF,eAUE,oBAAC,aAAD;AAAe,IAAA,QAAQ,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,UAAU,EAAEM,aAAa,CAAC5B,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACsB,UAAD,GACG1C,eAAe,CAACyE,cAAhB,CAA+BC,GAA/B,CAAmC,CAACC,GAAD,EAAMJ,KAAN,kBACjC,oBAAC,SAAD;AACE,IAAA,GAAG,EAAEA,KADP;AAEE,IAAA,EAAE,EAAEI,GAAG,CAACC,EAFV;AAGE,IAAA,IAAI,EAAED,GAAG,CAACxB,IAHZ;AAIE,IAAA,KAAK,EAAEoB,KAAK,KAAK/B,UAAV,GAAuB,IAAvB,GAA8B,CAJvC;AAKE,IAAA,UAAU,EAAE+B,KAAK,KAAK/B,UAAV,GAAuBgC,WAAW,EAAlC,GAAuC,EALrD;AAME,IAAA,QAAQ,MANV;AAOE,IAAA,KAAK,EAAEG,GAAG,CAACP,KAPb;AAQE,IAAA,KAAK,EAAC,SARR;AASE,IAAA,QAAQ,EAAGS,CAAD,IACR5B,6BAA6B,CAAC4B,CAAC,CAACC,MAAF,CAASC,KAAV,EAAiBJ,GAAG,CAACC,EAArB,CAVjC;AAYE,IAAA,KAAK,EAAEN,QAAQ,CAAC,UAAD,EAAaC,KAAb,CAZjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADH,GAiBGvE,eAAe,CAACgF,WAAhB,CAA4BN,GAA5B,CAAgC,CAACC,GAAD,EAAMJ,KAAN,kBAC9B,oBAAC,SAAD;AACE,IAAA,GAAG,EAAEA,KADP;AAEE,IAAA,EAAE,EAAEI,GAAG,CAACC,EAFV;AAGE,IAAA,IAAI,EAAED,GAAG,CAACxB,IAHZ;AAIE,IAAA,KAAK,EAAEoB,KAAK,KAAK/B,UAAV,GAAuB,IAAvB,GAA8B,CAJvC;AAKE,IAAA,UAAU,EACR+B,KAAK,KAAK/B,UAAV,GACI,gCADJ,GAEI,EARR;AAUE,IAAA,QAAQ,MAVV;AAWE,IAAA,KAAK,EAAEmC,GAAG,CAACP,KAXb;AAYE,IAAA,KAAK,EAAC,SAZR;AAaE,IAAA,QAAQ,EAAGS,CAAD,IACRzB,sBAAsB,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,EAAiBJ,GAAG,CAACC,EAArB,CAd1B;AAgBE,IAAA,KAAK,EAAEN,QAAQ,CAAC,OAAD,EAAUC,KAAV,CAhBjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAlBN,CADF,CAVF,eAmDE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAkB,IAAA,EAAE,EAAE,CAAtB;AAAyB,IAAA,EAAE,EAAE,CAA7B;AAAgC,IAAA,EAAE,EAAE,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AACE,IAAA,OAAO,EAAE,MAAM;AACbX,MAAAA,cAAc;AACf,KAHH;AAIE,IAAA,KAAK,EAAC,SAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,eAWE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAkB,IAAA,EAAE,EAAE,CAAtB;AAAyB,IAAA,EAAE,EAAE,CAA7B;AAAgC,IAAA,EAAE,EAAE,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAC,UAAxB;AAAmC,IAAA,YAAY,EAAC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAC,SAApB;AAA8B,IAAA,OAAO,EAAGiB,CAAD,IAAOxB,WAAW,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACX,UAAD,GAAc,eAAd,GAAgC,EADnC,WADF,CADF,CAXF,CADF,CAnDF,CAFJ,CADF;AA+ED;;AAED,eAAelB,QAAf","sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { Dialog, Slide } from \"@material-ui/core\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Typography, Grid, TextField } from \"@material-ui/core\";\nimport stringConstants from \"./stringConstants.jsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport useStyles from \"./styles.jsx\";\n\nimport { loginUser } from \"./service.js\";\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography classTcsId={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          classTcsId={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nconst useStylesselect = makeStyles((theme) => ({\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120,\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2),\n    },\n  }));\n\nfunction Register(props) {\n  const [open, setOpen] = React.useState(true);\n  const [TcsId, setTcsId] = React.useState(\" \");\n  const [phone, setphone] = React.useState(\" \");\n  const [password, setpassword] = React.useState(\" \");\n  const [confirmpassword, setconfirmpassword] = React.useState(\" \");\n\n  const [company, setcompany] = React.useState(\" \");\n  const [address, setaddress] = React.useState(\" \");\n  const [errorfield, seterrorfield] = React.useState(-1);\n\n  const [pageNumber, setPageNumber] = React.useState(1);\n\n  const [gmail, setgmail] = React.useState(\" \");\n\n  const { setUserEffort,setUserNamePassword } = props;\n\n  const classes = useStyles();\n\n  const classesSelect = useStylesselect();\n\n\n  const handleRegistrationFieldChange = (val, type) => {\n    switch (type) {\n      case \"TcsId\": {\n        setTcsId(val);\n        break;\n      }\n      case \"Phone\": {\n        setphone(val);\n        break;\n      }\n      case \"Gmail\": {\n        setgmail(val);\n        break;\n      }\n      case \"password\": {\n        setpassword(val);\n        break;\n      }\n      case \"confirmpassword\": {\n        setconfirmpassword(val);\n        break;\n      }\n      case \"Company TcsId\": {\n        setcompany(val);\n        break;\n      }\n      case \"ADDRESS\": {\n        setaddress(val);\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  const handleLoginFieldChange = (val, type) => {\n\n    switch (type) {\n        case \"TcsId\": {\n          setTcsId(val);\n          break;\n        }\n        case \"Password\": {\n            setpassword(val);\n          break;\n        }\n    }\n\n  }\n\n  const handleLogin = () => {\n    if (!pageNumber) setPageNumber(1);\n    else {\n      if (!TcsId || TcsId.length < 4) seterrorfield(0);\n      else if (!password || password.length < 4) seterrorfield(1);\n      else {\n        loginUser().then((res) => {\n          console.log(res, \"res\");\n\n          if (res) setUserEffort(res.useEffort);\n\n          setUserNamePassword([TcsId,password])\n\n          setOpen(false);\n\n\n        });\n      }\n    }\n  };\n\n  const handleRegister = (type) => {\n    if (pageNumber) setPageNumber(0);\n\n    if (!TcsId || TcsId.length < 4) seterrorfield(0);\n    else if (!phone || phone.length < 4) seterrorfield(1);\n    else if (!gmail || gmail.length < 4) seterrorfield(4);\n    else if (!company || company.length < 4) seterrorfield(5);\n    else if (!address || address.length < 4) seterrorfield(6);\n    else if (TcsId && phone && type == \"register\") {\n      // let getRegister = props.registered;\n      // var error = false;\n      // getRegister.forEach(e => {\n      //     if (e.gmail === gmail || e.phone === phone) {\n      //         if (e.gmail === gmail) seterrorfield(4)\n      //         else if (e.phone === phone) seterrorfield(1)\n      //         error = true;\n      //         return;\n      //     }\n      // })\n      // if (!error) {\n      //     let arr = {\n      //         'phone': phone,\n      //         'TcsId': TcsId,\n      //         'password': password,\n      //         'gmail': gmail,\n      //         'company': company,\n      //         'address': address\n      //     };\n      //     getRegister.push(arr);\n      //     props.setRegister(getRegister)\n      //     let a = [];\n      //     a.push(arr)\n      //     props.isLoggedIn(a)\n      // }\n    }\n    // if (TcsId &&  password && (type == 'login')) {}\n  };\n\n  const StyledButton = withStyles({\n    root: {\n      background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n      borderRadius: 3,\n      border: 0,\n      color: \"white\",\n      height: 48,\n      padding: \"0 30px\",\n      boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n    },\n    label: {\n      textTransform: \"capitalize\",\n    },\n  })(Button);\n\n  const getValue = (type, index) => {\n    if (type === \"register\")\n      switch (index) {\n        case \"0\": {\n          return TcsId;\n        }\n        case \"1\": {\n          return phone;\n        }\n        case \"2\": {\n          return password;\n        }\n        case \"3\": {\n          return confirmpassword;\n        }\n        case \"4\": {\n          return gmail;\n        }\n        case \"5\": {\n          return company;\n        }\n        case \"5\": {\n          return address;\n        }\n      }\n    else\n      switch (index) {\n        case \"0\": {\n          return TcsId;\n        }\n        case \"1\": {\n          return password;\n        }\n      }\n  };\n\n  const getErrorMsg = () => {\n    switch (errorfield) {\n      case 0:\n        return \"Enter Valid TcsId !\";\n      case 1:\n        return \"Enter Valid Number !\";\n      case 2:\n        return \"Enter Valid Password !\";\n      case 3:\n        return \"Enter Same Password !\";\n      case 4:\n        return \"Enter Valid Email\";\n      case 5:\n        return \"Enter Valid Company\";\n      case 6:\n        return \"Enter Valid Address\";\n    }\n  };\n\n  return (\n    <div>\n      {\n        <Dialog aria-labelledby=\"customized-dialog-title\" open={open}>\n          <DialogTitle\n            id=\"customized-dialog-title\"\n            style={{\n              background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n            }}\n          >\n            {!pageNumber ? \"Register\" : \"Login\"} Yourself !\n          </DialogTitle>\n\n          <DialogContent dividers>\n            <form classTcsId={classesSelect.formControl}>\n              {!pageNumber\n                ? stringConstants.REGISTERFIELDS.map((ind, index) => (\n                    <TextField\n                      key={index}\n                      id={ind.id}\n                      type={ind.type}\n                      error={index === errorfield ? true : 0}\n                      helperText={index === errorfield ? getErrorMsg() : \"\"}\n                      required\n                      label={ind.label}\n                      color=\"primary\"\n                      onChange={(e) =>\n                        handleRegistrationFieldChange(e.target.value, ind.id)\n                      }\n                      value={getValue(\"register\", index)}\n                    />\n                  ))\n                : stringConstants.LOGINFIELDS.map((ind, index) => (\n                    <TextField\n                      key={index}\n                      id={ind.id}\n                      type={ind.type}\n                      error={index === errorfield ? true : 0}\n                      helperText={\n                        index === errorfield\n                          ? \"UserTcsId or Password is Wrong\"\n                          : \"\"\n                      }\n                      required\n                      label={ind.label}\n                      color=\"primary\"\n                      onChange={(e) =>\n                        handleLoginFieldChange(e.target.value, ind.id)\n                      }\n                      value={getValue(\"login\", index)}\n                    />\n                  ))}\n            </form>\n          </DialogContent>\n          <DialogActions>\n            <Grid container>\n              <Grid item md={6} lg={6} sm={6} xs={6}>\n                <StyledButton\n                  onClick={() => {\n                    handleRegister();\n                  }}\n                  color=\"primary\"\n                >\n                  Register\n                </StyledButton>\n              </Grid>\n              <Grid item md={6} lg={6} sm={6} xs={6}>\n                <Grid container justify=\"flex-end\" alignContent=\"center\">\n                  <StyledButton color=\"primary\" onClick={(e) => handleLogin()}>\n                    {!pageNumber ? \"Existing user\" : \"\"} Login\n                  </StyledButton>\n                </Grid>\n              </Grid>\n            </Grid>\n          </DialogActions>\n        </Dialog>\n      }\n    </div>\n  );\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}