{"ast":null,"code":"var _jsxFileName = \"/Users/mallik/projects/Effort-tracker/src/App.js\";\nimport { TextField, Typography } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport React, { useEffect, useState } from \"react\";\nimport DateTimePicker from \"./DateTimePicker.js\";\nimport GenerateTableComponent from \"./table.js\";\nimport Register from './Register.jsx';\n\nconst axios = require(\"axios\");\n\nfunction App() {\n  const [serviceURL, setserviceURL] = useState(\"localhost:5000\");\n  const [openLoginPopUp, setopenLoginPopUp] = useState(false);\n  const [bookNow, setBookNow] = useState(false);\n  const [openErrorPopUp, setopenErrorPopUp] = useState(false);\n  const [OpenConfirmPopup, setOpenConfirmPopup] = useState(false);\n  const [tableData, setTableData] = useState([]);\n  const [selectedDate, setSelectedDate] = React.useState(\"\");\n  const [selectedStartTime, setSelectedStartTime] = React.useState(\"\");\n  const [selectedEndTime, setSelectedEndTime] = React.useState(\"\");\n  const [registrationForDate, setRegistrationForDate] = React.useState([]);\n  const [userName, setUserName] = useState(\"\");\n  const [userPhone, setUserPhone] = useState(\"\");\n  const [userBooking, setUserBooking] = useState([]);\n  const [openCancelPopUp, setOpenCancelPopup] = useState(false);\n  const [userEffort, setUserEffort] = useState([]);\n  useEffect(() => {\n    if (bookNow) {\n      handleBookTable();\n      setBookNow(false);\n    }\n  }, [registrationForDate]);\n  useEffect(() => {\n    if (bookNow) {\n      fetchAvailabiltyForDate(selectedDate, false);\n      if (!(userPhone && userName)) setopenLoginPopUp(true);\n    }\n  }, [bookNow]);\n  useEffect(() => {\n    if (userName && userPhone) {\n      fetchAvailabiltyForDate(selectedDate, false);\n      fetchUserDatils(userName, userPhone);\n    }\n  }, [userName, userPhone]);\n  useEffect(() => {\n    fetchAvailabiltyForDate(selectedDate, false);\n  }, [selectedDate]);\n  useEffect(() => {\n    fetchAvailabiltyForDate(selectedDate, false);\n  }, [selectedStartTime]);\n  useEffect(() => {\n    fetchAvailabiltyForDate(selectedDate, false);\n  }, [selectedEndTime]);\n\n  const getTablesThatCanBeBooked = slotArray => {\n    // console.log(slotArray, \"result\");\n    let result = [];\n    let resultLength = [];\n    let tempArr = [];\n    let success = true;\n\n    for (let i = 1; i < 6; i++) {\n      tempArr = [];\n      success = true;\n\n      if (registrationForDate[i]) {\n        registrationForDate[i].forEach(e => {\n          tempArr.push(...e);\n        });\n        slotArray.forEach(e => {\n          if (tempArr.indexOf(e) > -1) {\n            success = false;\n            return;\n          }\n        });\n\n        if (success) {\n          result.push(i);\n          resultLength.push(tempArr.length);\n        }\n      } else {\n        if (success) {\n          result.push(i);\n          resultLength.push(tempArr.length);\n        }\n      }\n    }\n\n    console.log(result, \"result\");\n    console.log(resultLength, \"result\");\n    return [result, resultLength];\n  };\n\n  const canTableBooked = () => {\n    let startSlot = getSlotsForStartTime(selectedStartTime);\n    let endSlot = getSlotsForEndTime(selectedEndTime);\n    let slotArray = getBetweenSlots(startSlot, endSlot);\n    console.log(selectedStartTime, \"registrationForDate\");\n    console.log(selectedEndTime, \"registrationForDate\");\n    console.log(registrationForDate, \"registrationForDate\");\n    console.log(slotArray, \"registrationForDate\");\n    const tables = getTablesThatCanBeBooked(slotArray);\n    const indexOfmaxValues = tables[1].indexOf(Math.max(...tables[1]));\n    const bookTable = tables[0][indexOfmaxValues];\n    console.log(bookTable, \"bookTable\");\n    registerBooking(bookTable);\n  };\n\n  const registerBooking = tableNumber => {\n    const bookingDetails = {\n      tableId: tableNumber,\n      dateBooking: selectedDate,\n      phone: userPhone,\n      UserName: userName,\n      startTime: selectedStartTime,\n      EndTime: selectedEndTime\n    };\n    axios.post(\"http://\" + serviceURL + \"/registerBooking\", bookingDetails).then(function (response) {\n      if (response && response.data && response.data.rowsAffected[0] == 1) {\n        console.log(\"booked success\");\n        if (userName && userPhone) fetchUserDatils(userName, userPhone);\n      }\n    }).catch(function (error) {});\n  };\n\n  const handleBookTable = () => {\n    // console.log( new Date( selectedDate.split('-')[0], selectedDate.split('-')[1], selectedDate.split('-')[2])  < new Date() )\n    if (!(userName && userPhone)) setopenLoginPopUp(true);else if (!(selectedDate && selectedStartTime && selectedEndTime)) setopenErrorPopUp(true);else if (selectedStartTime < 18 || selectedEndTime < 18) setopenErrorPopUp(true);else if (selectedStartTime > selectedEndTime) setopenErrorPopUp(true); // else if( new Date( selectedDate.split('-')[0], selectedDate.split('-')[1], selectedDate.split('-')[2])  > new Date()  )\n    //     setopenErrorPopUp(true)\n    else canTableBooked();\n  };\n\n  const fetchUserDatils = (userName, userPhone) => {\n    axios.get(\"http://\" + serviceURL + \"/fetchUserTable/\" + userName + \"/\" + userPhone).then(function (response) {\n      console.log(response.data, \"fetchUserTable\");\n\n      if (response && response.data) {\n        setUserBooking(response.data);\n      }\n    }).catch(function (error) {});\n  };\n\n  const fetchAvailabiltyForDate = (selectedDate, isMaster) => {\n    axios.get(\"http://\" + serviceURL + \"/fetchAvailabiltyForDate/\" + selectedDate + \"/\" + isMaster).then(function (response) {\n      console.log(response, \"fetchAvailabiltyForDate\");\n      if (response && !isMaster) setRegistrationForDate(response.data);else if (isMaster) setTableData(response.data);else setRegistrationForDate(false);\n    }).catch(function (error) {});\n  };\n\n  const cancelBooking = bId => {\n    console.log(bId, \"cancel booking\");\n    axios.put(\"http://\" + serviceURL + \"/cancelBooking/\" + bId).then(function (response) {\n      console.log(response.data, \"fetchUserTable\");\n\n      if (response && response.data) {\n        fetchUserDatils(userName, userPhone);\n      }\n    }).catch(function (error) {});\n  };\n\n  const handleBookNow = () => {\n    if (bookNow) {\n      fetchAvailabiltyForDate(selectedDate, false);\n      if (!(userPhone && userName)) setopenLoginPopUp(true);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    spacing: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 5\n    }\n  }, openCancelPopUp && /*#__PURE__*/React.createElement(CancelPopUp, {\n    setOpenCancelPopup: e => {\n      if (e) cancelBooking(openCancelPopUp);\n      setOpenCancelPopup(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }), OpenConfirmPopup && /*#__PURE__*/React.createElement(ConfirmPopUp, {\n    setOpenConfirmPopup: e => {\n      if (e) setBookNow(true);\n      setOpenConfirmPopup(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    style: {\n      fontSize: \"72px\",\n      background: \"-webkit-linear-gradient(#499F92, #333)\",\n      WebkitBackgroundClip: \"text\",\n      WebkitTextFillColor: \"transparent\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }\n  }, \"Hello ,\", userName ? userName : tableData && tableData.length ? \"Admin\" : \"Guest\")), /*#__PURE__*/React.createElement(Register, {\n    setUserEffort: e => setUserEffort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DateTimePicker, {\n    setSelectedDate: e => setSelectedDate(e),\n    setSelectedStartTime: e => setSelectedStartTime(e),\n    setSelectedEndTime: e => setSelectedEndTime(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }\n  }), openLoginPopUp && /*#__PURE__*/React.createElement(LoginPopUp, {\n    setopenLoginPopUp: e => setopenLoginPopUp(e),\n    sentUser: e => {\n      if (userName && userPhone) setTableData([]);\n      setUserName(e[0]);\n      setUserPhone(e[1]);\n      setTableData([]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 9\n    }\n  }), openErrorPopUp && /*#__PURE__*/React.createElement(ErrorPopUp, {\n    setopenErrorPopUp: e => setopenErrorPopUp(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 2,\n    xs: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledButtonBlue, {\n    onClick: () => {\n      setBookNow(true);\n      handleBookNow();\n    },\n    disabled: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }\n  }, userName ? \"Complete Booking\" : \"Log in to Book\")), userName && /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 2,\n    xs: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StyledButtonBlue, {\n    onClick: () => setopenLoginPopUp(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 11\n    }\n  }, \"Log In as Different User\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 2,\n    xs: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledButtonBlue, {\n    onClick: () => {\n      setUserName(\"\");\n      setUserPhone(\"\");\n      setUserBooking([]);\n      fetchAvailabiltyForDate(selectedDate, true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }\n  }, \"I'm Admin\")), userEffort && userEffort.length ? /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 11,\n    xs: 11,\n    sm: 11,\n    lg: 11,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GenerateTableComponent, {\n    columns: [{\n      id: \"description\",\n      label: \"Description\"\n    }, {\n      id: \"effort\",\n      label: \"effort\"\n    }, {\n      id: \"activityType\",\n      label: \"Activity Type\"\n    }, {\n      id: \"serviceElement\",\n      label: \"ServiceElement\"\n    }, {\n      id: \"assyst\",\n      label: \"assyst\"\n    }, {\n      id: \"username\",\n      label: \"username\"\n    } // {\n    //   id: userBooking.length ? \"cancellationStatus\" : \"UserName\",\n    //   label: userBooking.length ? \"Drop Plan\" : \"Who\",\n    // },\n    ],\n    tableData: userEffort,\n    cancelBookingId: e => setOpenCancelPopup(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 11\n    }\n  })) : null);\n}\n\nconst styles = theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2)\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  }\n});\n\nconst StyledButtonBlue = withStyles({\n  root: {\n    background: \"linear-gradient(45deg, #93CFC2 30%, #136F7E 90%)\",\n    borderRadius: 3,\n    border: 0,\n    color: \"white\",\n    height: 48,\n    padding: \"0 30px\",\n    boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\"\n  },\n  label: {\n    textTransform: \"capitalize\"\n  }\n})(Button);\nconst DialogTitle = withStyles(styles)(props => {\n  const {\n    children,\n    classes,\n    onClose,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(MuiDialogTitle, Object.assign({\n    disableTypography: true,\n    className: classes.root\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }\n  }, children), onClose ? /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"close\",\n    className: classes.closeButton,\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 11\n    }\n  })) : null);\n});\nconst DialogContent = withStyles(theme => ({\n  root: {\n    padding: theme.spacing(2)\n  }\n}))(MuiDialogContent);\nconst DialogActions = withStyles(theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1)\n  }\n}))(MuiDialogActions);\n\nconst LoginPopUp = props => {\n  const {\n    setopenLoginPopUp,\n    sentUser\n  } = props;\n  const [username, setusername] = useState(\"\");\n  const [phone, setphone] = useState(\"\");\n  return /*#__PURE__*/React.createElement(Dialog, {\n    onClose: () => setopenLoginPopUp(false),\n    open: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"customized-dialog-title\",\n    onClose: () => setopenLoginPopUp(false),\n    style: {\n      background: \"linear-gradient(45deg, #93CFC2 30%, #136F7E 90%)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 7\n    }\n  }, \"Enter Username\"), /*#__PURE__*/React.createElement(DialogContent, {\n    dividers: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"Username\",\n    type: \"string\",\n    key: 100,\n    required: true,\n    label: \"Enter Username\",\n    value: username,\n    color: \"primary\",\n    onChange: e => {\n      setusername(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"phone\",\n    type: \"phone\",\n    key: 100,\n    required: true,\n    label: \"Enter phone Number\",\n    value: phone,\n    color: \"primary\",\n    onChange: e => {\n      setphone(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledButtonBlue, {\n    onClick: e => {\n      if (username && phone) {\n        sentUser([username, phone]);\n        setopenLoginPopUp(false);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 9\n    }\n  }, \"Login\")));\n};\n\nconst CancelPopUp = props => {\n  const {\n    setOpenCancelPopup\n  } = props;\n  return /*#__PURE__*/React.createElement(Dialog, {\n    onClose: () => setOpenCancelPopup(false),\n    open: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"customized-dialog-title\",\n    onClose: () => setOpenCancelPopup(false),\n    style: {\n      background: \"linear-gradient(45deg, #93CFC2 30%, #136F7E 90%)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 7\n    }\n  }, \"Do you want to Cancel ?\"), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledButtonBlue, {\n    onClick: e => {\n      setOpenCancelPopup(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 9\n    }\n  }, \"Confirm Cancel\"), /*#__PURE__*/React.createElement(StyledButtonBlue, {\n    onClick: e => {\n      setOpenCancelPopup(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 9\n    }\n  }, \"Stop\")));\n};\n\nconst ErrorPopUp = props => {\n  const {\n    setopenErrorPopUp\n  } = props;\n  return /*#__PURE__*/React.createElement(Dialog, {\n    onClose: () => setopenErrorPopUp(false),\n    open: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"customized-dialog-title\",\n    onClose: () => setopenErrorPopUp(false),\n    style: {\n      background: \"linear-gradient(45deg, #93CFC2 30%, #136F7E 90%)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 7\n    }\n  }, \"Operated Between 6 PM - 12 PM\"));\n};\n\nconst ConfirmPopUp = props => {\n  const {\n    setOpenConfirmPopup\n  } = props;\n  return /*#__PURE__*/React.createElement(Dialog, {\n    onClose: () => setOpenConfirmPopup(false),\n    open: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"customized-dialog-title\",\n    onClose: () => setOpenConfirmPopup(false),\n    style: {\n      background: \"linear-gradient(45deg, #93CFC2 30%, #136F7E 90%)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 7\n    }\n  }, \"Can I Book ?\"), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledButtonBlue, {\n    onClick: e => {\n      setOpenConfirmPopup(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 9\n    }\n  }, \"Confirm\"), /*#__PURE__*/React.createElement(StyledButtonBlue, {\n    onClick: e => {\n      setOpenConfirmPopup(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 9\n    }\n  }, \"No !\")));\n};\n\nconst useStylesSnack = makeStyles(theme => ({\n  rootsnack: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2)\n    }\n  }\n}));\n\nfunction getSlotsForStartTime(startTime) {\n  switch (startTime) {\n    case \"18.0\":\n      return 1;\n\n    case \"18.30\":\n      return 2;\n\n    case \"19.0\":\n      return 3;\n\n    case \"19.30\":\n      return 4;\n\n    case \"20.0\":\n      return 5;\n\n    case \"20.30\":\n      return 6;\n\n    case \"21.0\":\n      return 7;\n\n    case \"21.30\":\n      return 8;\n\n    case \"22.0\":\n      return 9;\n\n    case \"22.30\":\n      return 10;\n\n    case \"23.0\":\n      return 11;\n\n    case \"23.30\":\n      return 12;\n  }\n}\n\nfunction getSlotsForEndTime(endTime) {\n  switch (endTime) {\n    case \"18.30\":\n      return 1;\n\n    case \"19.0\":\n      return 2;\n\n    case \"19.30\":\n      return 3;\n\n    case \"20.0\":\n      return 4;\n\n    case \"20.30\":\n      return 5;\n\n    case \"21.0\":\n      return 6;\n\n    case \"21.30\":\n      return 7;\n\n    case \"22.0\":\n      return 8;\n\n    case \"22.30\":\n      return 9;\n\n    case \"23.0\":\n      return 10;\n\n    case \"23.30\":\n      return 11;\n\n    case \"24.0\":\n      return 12;\n  }\n}\n\nfunction getBetweenSlots(startSlot, endSlot) {\n  if (startSlot === endSlot) return [endSlot];else {\n    let slotsArr = [];\n\n    for (let i = startSlot; i <= endSlot; i++) slotsArr.push(i);\n\n    return slotsArr;\n  }\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/mallik/projects/Effort-tracker/src/App.js"],"names":["TextField","Typography","Button","Dialog","MuiDialogActions","MuiDialogContent","MuiDialogTitle","Grid","IconButton","makeStyles","withStyles","CloseIcon","React","useEffect","useState","DateTimePicker","GenerateTableComponent","Register","axios","require","App","serviceURL","setserviceURL","openLoginPopUp","setopenLoginPopUp","bookNow","setBookNow","openErrorPopUp","setopenErrorPopUp","OpenConfirmPopup","setOpenConfirmPopup","tableData","setTableData","selectedDate","setSelectedDate","selectedStartTime","setSelectedStartTime","selectedEndTime","setSelectedEndTime","registrationForDate","setRegistrationForDate","userName","setUserName","userPhone","setUserPhone","userBooking","setUserBooking","openCancelPopUp","setOpenCancelPopup","userEffort","setUserEffort","handleBookTable","fetchAvailabiltyForDate","fetchUserDatils","getTablesThatCanBeBooked","slotArray","result","resultLength","tempArr","success","i","forEach","e","push","indexOf","length","console","log","canTableBooked","startSlot","getSlotsForStartTime","endSlot","getSlotsForEndTime","getBetweenSlots","tables","indexOfmaxValues","Math","max","bookTable","registerBooking","tableNumber","bookingDetails","tableId","dateBooking","phone","UserName","startTime","EndTime","post","then","response","data","rowsAffected","catch","error","get","isMaster","cancelBooking","bId","put","handleBookNow","fontSize","background","WebkitBackgroundClip","WebkitTextFillColor","id","label","styles","theme","root","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","StyledButtonBlue","borderRadius","border","height","boxShadow","textTransform","DialogTitle","props","children","classes","onClose","other","DialogContent","DialogActions","LoginPopUp","sentUser","username","setusername","setphone","target","value","CancelPopUp","ErrorPopUp","ConfirmPopUp","useStylesSnack","rootsnack","width","marginTop","endTime","slotsArr"],"mappings":"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","sourcesContent":["import { TextField, Typography } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport React, { useEffect, useState } from \"react\";\nimport DateTimePicker from \"./DateTimePicker.js\";\nimport GenerateTableComponent from \"./table.js\";\n\nimport Register from './Register.jsx'\n\n\nconst axios = require(\"axios\");\n\nfunction App() {\n\n  const [serviceURL, setserviceURL] = useState(\"localhost:5000\");\n\n  const [openLoginPopUp, setopenLoginPopUp] = useState(false);\n\n  const [bookNow, setBookNow] = useState(false);\n\n  const [openErrorPopUp, setopenErrorPopUp] = useState(false);\n\n  const [OpenConfirmPopup, setOpenConfirmPopup] = useState(false);\n\n  const [tableData, setTableData] = useState([]);\n\n  const [selectedDate, setSelectedDate] = React.useState(\"\");\n  const [selectedStartTime, setSelectedStartTime] = React.useState(\"\");\n  const [selectedEndTime, setSelectedEndTime] = React.useState(\"\");\n  const [registrationForDate, setRegistrationForDate] = React.useState([]);\n\n  const [userName, setUserName] = useState(\"\");\n  const [userPhone, setUserPhone] = useState(\"\");\n\n  const [userBooking, setUserBooking] = useState([]);\n\n  const [openCancelPopUp, setOpenCancelPopup] = useState(false);\n\n  const [userEffort, setUserEffort] = useState([]);\n\n\n  \n\n  useEffect(() => {\n\n  if(bookNow) {  handleBookTable(); setBookNow(false) }\n\n  }, [registrationForDate]);\n\n  useEffect(() => {\n    if (bookNow) {\n      fetchAvailabiltyForDate(selectedDate, false);\n      if(!(userPhone&&userName))  setopenLoginPopUp(true)\n    }\n  }, [bookNow]);\n\n  useEffect(() => {\n    if (userName && userPhone) {\n      fetchAvailabiltyForDate(selectedDate, false);\n      fetchUserDatils(userName, userPhone);\n    }\n  }, [userName, userPhone]);\n\n  useEffect(() => {\n    fetchAvailabiltyForDate(selectedDate, false);\n  }, [selectedDate]);\n\n  useEffect(() => {\n    fetchAvailabiltyForDate(selectedDate, false);\n  }, [selectedStartTime]);\n\n  useEffect(() => {\n    fetchAvailabiltyForDate(selectedDate, false);\n  }, [selectedEndTime]);\n\n  const getTablesThatCanBeBooked = (slotArray) => {\n    // console.log(slotArray, \"result\");\n\n    let result = [];\n\n    let resultLength = [];\n\n    let tempArr = [];\n    let success = true;\n\n    for (let i = 1; i < 6; i++) {\n      tempArr = [];\n      success = true;\n\n      if (registrationForDate[i]) {\n        registrationForDate[i].forEach((e) => {\n          tempArr.push(...e);\n        });\n\n        slotArray.forEach((e) => {\n          if (tempArr.indexOf(e) > -1) {\n            success = false;\n            return;\n          }\n        });\n\n        if (success) {\n          result.push(i);\n          resultLength.push(tempArr.length);\n        }\n      } else {\n        if (success) {\n          result.push(i);\n          resultLength.push(tempArr.length);\n        }\n      }\n    }\n\n    console.log(result, \"result\");\n    console.log(resultLength, \"result\");\n\n    return [result, resultLength];\n  };\n\n  const canTableBooked = () => {\n    let startSlot = getSlotsForStartTime(selectedStartTime);\n    let endSlot = getSlotsForEndTime(selectedEndTime);\n\n    let slotArray = getBetweenSlots(startSlot, endSlot);\n\n    console.log(selectedStartTime, \"registrationForDate\");\n\n    console.log(selectedEndTime, \"registrationForDate\");\n\n    console.log(registrationForDate, \"registrationForDate\");\n    console.log(slotArray, \"registrationForDate\");\n\n    const tables = getTablesThatCanBeBooked(slotArray);\n\n    const indexOfmaxValues = tables[1].indexOf(Math.max(...tables[1]));\n\n    const bookTable = tables[0][indexOfmaxValues];\n\n    console.log(bookTable, \"bookTable\");\n    registerBooking(bookTable);\n  };\n\n  const registerBooking = (tableNumber) => {\n    const bookingDetails = {\n      tableId: tableNumber,\n      dateBooking: selectedDate,\n      phone: userPhone,\n      UserName: userName,\n      startTime: selectedStartTime,\n      EndTime: selectedEndTime,\n    };\n\n    axios\n      .post(\"http://\" + serviceURL + \"/registerBooking\", bookingDetails)\n      .then(function (response) {\n        if (response && response.data && response.data.rowsAffected[0] == 1) {\n          console.log(\"booked success\");\n          if (userName && userPhone) fetchUserDatils(userName, userPhone);\n        }\n      })\n      .catch(function (error) {});\n  };\n\n  const handleBookTable = () => {\n    // console.log( new Date( selectedDate.split('-')[0], selectedDate.split('-')[1], selectedDate.split('-')[2])  < new Date() )\n\n    if (!(userName && userPhone)) setopenLoginPopUp(true);\n    else if (!(selectedDate && selectedStartTime && selectedEndTime))\n      setopenErrorPopUp(true);\n    else if (selectedStartTime < 18 || selectedEndTime < 18)\n      setopenErrorPopUp(true);\n    else if (selectedStartTime > selectedEndTime) setopenErrorPopUp(true);\n    // else if( new Date( selectedDate.split('-')[0], selectedDate.split('-')[1], selectedDate.split('-')[2])  > new Date()  )\n    //     setopenErrorPopUp(true)\n    else canTableBooked();\n  };\n\n  const fetchUserDatils = (userName, userPhone) => {\n    axios\n      .get(\n        \"http://\" + serviceURL + \"/fetchUserTable/\" + userName + \"/\" + userPhone\n      )\n      .then(function (response) {\n        console.log(response.data, \"fetchUserTable\");\n        if (response && response.data) {\n          setUserBooking(response.data);\n        }\n      })\n      .catch(function (error) {});\n  };\n\n  const fetchAvailabiltyForDate = (selectedDate, isMaster) => {\n    axios\n      .get(\n        \"http://\" +\n          serviceURL +\n          \"/fetchAvailabiltyForDate/\" +\n          selectedDate +\n          \"/\" +\n          isMaster\n      )\n      .then(function (response) {\n        console.log(response, \"fetchAvailabiltyForDate\");\n\n        if (response && !isMaster) setRegistrationForDate(response.data);\n        else if (isMaster) setTableData(response.data);\n        else setRegistrationForDate(false);\n      })\n      .catch(function (error) {});\n  };\n\n  const cancelBooking = (bId) => {\n    console.log(bId, \"cancel booking\");\n\n    axios\n      .put(\"http://\" + serviceURL + \"/cancelBooking/\" + bId)\n      .then(function (response) {\n        console.log(response.data, \"fetchUserTable\");\n        if (response && response.data) {\n          fetchUserDatils(userName, userPhone);\n        }\n      })\n      .catch(function (error) {});\n  };\n\n  const handleBookNow = () => {\n    if (bookNow) {\n      fetchAvailabiltyForDate(selectedDate, false);\n      if(!(userPhone&&userName))  setopenLoginPopUp(true)\n    }\n  }\n\n  return (\n    <Grid container justify=\"center\" spacing={4}>\n      {openCancelPopUp && (\n        <CancelPopUp\n          setOpenCancelPopup={(e) => {\n            if (e) cancelBooking(openCancelPopUp);\n\n            setOpenCancelPopup(false);\n          }}\n        />\n      )}\n\n      {OpenConfirmPopup && (\n        <ConfirmPopUp\n          setOpenConfirmPopup={(e) => {\n            if (e) setBookNow(true);\n            setOpenConfirmPopup(false);\n          }}\n        />\n      )}\n\n      <Grid item>\n        <Typography\n          variant=\"h3\"\n          style={{\n            fontSize: \"72px\",\n            background: \"-webkit-linear-gradient(#499F92, #333)\",\n            WebkitBackgroundClip: \"text\",\n            WebkitTextFillColor: \"transparent\",\n          }}\n        >\n          Hello ,\n          {userName\n            ? userName\n            : tableData && tableData.length\n            ? \"Admin\"\n            : \"Guest\"}\n        </Typography>\n      </Grid>\n          \n          <Register\n          setUserEffort = {e => setUserEffort} />\n\n\n      <DateTimePicker\n        setSelectedDate={(e) => setSelectedDate(e)}\n        setSelectedStartTime={(e) => setSelectedStartTime(e)}\n        setSelectedEndTime={(e) => setSelectedEndTime(e)}\n      />\n\n      {openLoginPopUp && (\n        <LoginPopUp\n          setopenLoginPopUp={(e) => setopenLoginPopUp(e)}\n          sentUser={(e) => {\n            if (userName && userPhone) setTableData([]);\n            setUserName(e[0]);\n            setUserPhone(e[1]);\n            setTableData([]);\n          }}\n        />\n      )}\n\n      {openErrorPopUp && (\n        <ErrorPopUp setopenErrorPopUp={(e) => setopenErrorPopUp(e)} />\n      )}\n\n      <Grid item md={2} xs={12} sm={12}>\n        <StyledButtonBlue onClick={() => {setBookNow(true); handleBookNow();} } disabled={false}>\n          {userName ? \"Complete Booking\" : \"Log in to Book\"}\n        </StyledButtonBlue>\n      </Grid>\n\n      {userName && (\n        <Grid item md={2} xs={12} sm={12}>\n          <StyledButtonBlue onClick={() => setopenLoginPopUp(true)}>\n            Log In as Different User\n          </StyledButtonBlue>\n        </Grid>\n      )}\n\n      <Grid item md={2} xs={12} sm={12}>\n        <StyledButtonBlue\n          onClick={() => {\n            setUserName(\"\");\n            setUserPhone(\"\");\n            setUserBooking([]);\n            fetchAvailabiltyForDate(selectedDate, true);\n          }}\n        >\n          I'm Admin\n        </StyledButtonBlue>\n      </Grid>\n\n      {(userEffort && userEffort.length)  ? (\n        <Grid item md={11} xs={11} sm={11} lg={11}>\n          <GenerateTableComponent\n            columns={[\n              { id: \"description\", label: \"Description\" },\n              { id: \"effort\", label: \"effort\" },\n              { id: \"activityType\", label: \"Activity Type\" },\n              { id: \"serviceElement\", label: \"ServiceElement\" },\n              { id: \"assyst\", label: \"assyst\" },\n              { id: \"username\", label: \"username\" },\n\n              \n\n              // {\n              //   id: userBooking.length ? \"cancellationStatus\" : \"UserName\",\n              //   label: userBooking.length ? \"Drop Plan\" : \"Who\",\n              // },\n            ]}\n            tableData={ userEffort }\n            cancelBookingId={(e) => setOpenCancelPopup(e)}\n          />\n        </Grid>\n      ) : (null)}\n    </Grid>\n  );\n}\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst StyledButtonBlue = withStyles({\n  root: {\n    background: \"linear-gradient(45deg, #93CFC2 30%, #136F7E 90%)\",\n    borderRadius: 3,\n    border: 0,\n    color: \"white\",\n    height: 48,\n    padding: \"0 30px\",\n    boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n  },\n  label: {\n    textTransform: \"capitalize\",\n  },\n})(Button);\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nconst LoginPopUp = (props) => {\n  const { setopenLoginPopUp, sentUser } = props;\n\n  const [username, setusername] = useState(\"\");\n  const [phone, setphone] = useState(\"\");\n\n  return (\n    <Dialog onClose={() => setopenLoginPopUp(false)} open={1}>\n      <DialogTitle\n        id=\"customized-dialog-title\"\n        onClose={() => setopenLoginPopUp(false)}\n        style={{\n          background: \"linear-gradient(45deg, #93CFC2 30%, #136F7E 90%)\",\n        }}\n      >\n        Enter Username\n      </DialogTitle>\n      <DialogContent dividers>\n        <Grid container>\n          <TextField\n            id={\"Username\"}\n            type={\"string\"}\n            key={100}\n            required\n            label={\"Enter Username\"}\n            value={username}\n            color=\"primary\"\n            onChange={(e) => {\n              setusername(e.target.value);\n            }}\n          />\n          <Grid container>\n            <TextField\n              id={\"phone\"}\n              type={\"phone\"}\n              key={100}\n              required\n              label={\"Enter phone Number\"}\n              value={phone}\n              color=\"primary\"\n              onChange={(e) => {\n                setphone(e.target.value);\n              }}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <StyledButtonBlue\n          onClick={(e) => {\n            if (username && phone) {\n              sentUser([username, phone]);\n              setopenLoginPopUp(false);\n            }\n          }}\n        >\n          Login\n        </StyledButtonBlue>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst CancelPopUp = (props) => {\n  const { setOpenCancelPopup } = props;\n\n  return (\n    <Dialog onClose={() => setOpenCancelPopup(false)} open={1}>\n      <DialogTitle\n        id=\"customized-dialog-title\"\n        onClose={() => setOpenCancelPopup(false)}\n        style={{\n          background: \"linear-gradient(45deg, #93CFC2 30%, #136F7E 90%)\",\n        }}\n      >\n        Do you want to Cancel ?\n      </DialogTitle>\n\n      <DialogActions>\n        <StyledButtonBlue\n          onClick={(e) => {\n            setOpenCancelPopup(true);\n          }}\n        >\n          Confirm Cancel\n        </StyledButtonBlue>\n\n        <StyledButtonBlue\n          onClick={(e) => {\n            setOpenCancelPopup(false);\n          }}\n        >\n          Stop\n        </StyledButtonBlue>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst ErrorPopUp = (props) => {\n  const { setopenErrorPopUp } = props;\n\n  return (\n    <Dialog onClose={() => setopenErrorPopUp(false)} open={1}>\n      <DialogTitle\n        id=\"customized-dialog-title\"\n        onClose={() => setopenErrorPopUp(false)}\n        style={{\n          background: \"linear-gradient(45deg, #93CFC2 30%, #136F7E 90%)\",\n        }}\n      >\n        Operated Between 6 PM - 12 PM\n      </DialogTitle>\n    </Dialog>\n  );\n};\n\nconst ConfirmPopUp = (props) => {\n  const { setOpenConfirmPopup } = props;\n\n  return (\n    <Dialog onClose={() => setOpenConfirmPopup(false)} open={1}>\n      <DialogTitle\n        id=\"customized-dialog-title\"\n        onClose={() => setOpenConfirmPopup(false)}\n        style={{\n          background: \"linear-gradient(45deg, #93CFC2 30%, #136F7E 90%)\",\n        }}\n      >\n        Can I Book ?\n      </DialogTitle>\n\n      <DialogActions>\n        <StyledButtonBlue\n          onClick={(e) => {\n            setOpenConfirmPopup(true);\n          }}\n        >\n          Confirm\n        </StyledButtonBlue>\n\n        <StyledButtonBlue\n          onClick={(e) => {\n            setOpenConfirmPopup(false);\n          }}\n        >\n          No !\n        </StyledButtonBlue>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst useStylesSnack = makeStyles((theme) => ({\n  rootsnack: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nfunction getSlotsForStartTime(startTime) {\n  switch (startTime) {\n    case \"18.0\":\n      return 1;\n    case \"18.30\":\n      return 2;\n    case \"19.0\":\n      return 3;\n    case \"19.30\":\n      return 4;\n    case \"20.0\":\n      return 5;\n    case \"20.30\":\n      return 6;\n    case \"21.0\":\n      return 7;\n    case \"21.30\":\n      return 8;\n    case \"22.0\":\n      return 9;\n    case \"22.30\":\n      return 10;\n    case \"23.0\":\n      return 11;\n    case \"23.30\":\n      return 12;\n  }\n}\n\nfunction getSlotsForEndTime(endTime) {\n  switch (endTime) {\n    case \"18.30\":\n      return 1;\n    case \"19.0\":\n      return 2;\n    case \"19.30\":\n      return 3;\n    case \"20.0\":\n      return 4;\n    case \"20.30\":\n      return 5;\n    case \"21.0\":\n      return 6;\n    case \"21.30\":\n      return 7;\n    case \"22.0\":\n      return 8;\n    case \"22.30\":\n      return 9;\n    case \"23.0\":\n      return 10;\n    case \"23.30\":\n      return 11;\n    case \"24.0\":\n      return 12;\n  }\n}\n\nfunction getBetweenSlots(startSlot, endSlot) {\n  if (startSlot === endSlot) return [endSlot];\n  else {\n    let slotsArr = [];\n    for (let i = startSlot; i <= endSlot; i++) slotsArr.push(i);\n    return slotsArr;\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}