{"ast":null,"code":"var _jsxFileName = \"/Users/mallik/projects/Effort-tracker/src/Register.jsx\";\nimport React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { Dialog, Slide } from \"@material-ui/core\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Typography, Grid, TextField } from \"@material-ui/core\";\nimport stringConstants from \"./stringConstants.jsx\";\nimport useStyles from \"./styles.jsx\";\nimport { loginUser, registerUser } from \"./service.js\";\n\nconst styles = theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2)\n  }\n});\n\nconst DialogTitle = withStyles(styles)(props => {\n  const {\n    children,\n    classes,\n    onClose,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(MuiDialogTitle, Object.assign({\n    disableTypography: true,\n    classTcsId: classes.root\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, children), onClose ? /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"close\",\n    classTcsId: classes.closeButton,\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  })) : null);\n});\nconst DialogContent = withStyles(theme => ({\n  root: {\n    padding: theme.spacing(2)\n  }\n}))(MuiDialogContent);\nconst DialogActions = withStyles(theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1)\n  }\n}))(MuiDialogActions);\n\nfunction Register(props) {\n  const [open, setOpen] = React.useState(true);\n  const [TcsId, setTcsId] = React.useState(\" \");\n  const [name, setName] = React.useState(\" \");\n  const [password, setpassword] = React.useState(\" \");\n  const [confirmpassword, setconfirmpassword] = React.useState(\" \");\n  const [application, setapplication] = React.useState(\" \");\n  const [email, setemail] = React.useState(\" \");\n  const [errorfield, seterrorfield] = React.useState(-1);\n  const [pageNumber, setPageNumber] = React.useState(1);\n  const {\n    setUserEffort,\n    setUserNamePassword,\n    setMasterEffort\n  } = props;\n  const classes = useStyles();\n\n  const handleRegistrationFieldChange = (val, type) => {\n    switch (type) {\n      case \"TcsId\":\n        {\n          setTcsId(val);\n          break;\n        }\n\n      case \"Name\":\n        {\n          console.log(type, 'type');\n          setName(val);\n          break;\n        }\n\n      case \"Gmail\":\n        {\n          setTcsId(val);\n          break;\n        }\n\n      case \"password\":\n        {\n          setpassword(val);\n          break;\n        }\n\n      case \"confirmpassword\":\n        {\n          setconfirmpassword(val);\n          break;\n        }\n\n      case \"application\":\n        {\n          setapplication(val);\n          break;\n        }\n\n      default:\n        break;\n    }\n  };\n\n  const handleLoginFieldChange = (val, type) => {\n    switch (type) {\n      case \"TcsId\":\n        {\n          setTcsId(val);\n          break;\n        }\n\n      case \"Password\":\n        {\n          setpassword(val);\n          break;\n        }\n    }\n  };\n\n  const handleLogin = () => {\n    if (!pageNumber) setPageNumber(1);else {\n      if (!TcsId || TcsId.length < 4) seterrorfield(0);else if (!password || password.length < 4) seterrorfield(1);else {\n        loginUser().then(res => {\n          console.log(res, \"res loginUser\");\n\n          if (res) {\n            setUserEffort(res.useEffort);\n            setMasterEffort(res.useEffort);\n          }\n\n          setUserNamePassword([TcsId, password]);\n          setOpen(false);\n        });\n      }\n    }\n  };\n\n  const handleRegister = type => {\n    if (pageNumber) setPageNumber(0);\n    console.log(TcsId);\n    console.log(password);\n    console.log(name);\n    console.log(application);\n    if (!TcsId || TcsId.length < 4) seterrorfield(0);else if (!name || name.length < 4) seterrorfield(1);else if (!password || password.length < 4) seterrorfield(2);else if (!application || application.length < 4) seterrorfield(4);else if (TcsId && password) {\n      console.log(TcsId);\n      console.log(password);\n      console.log(TcsId);\n      console.log(application); // console.log(application);\n\n      let userDetails = {\n        username: TcsId,\n        password: password,\n        email: TcsId,\n        application: application\n      };\n      registerUser(userDetails).then(res => {\n        console.log(res, \"res registerUser\");\n\n        if (res) {\n          setUserNamePassword([TcsId, password]);\n          setOpen(false);\n        }\n      });\n    }\n  };\n\n  const StyledButton = withStyles({\n    root: {\n      background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n      borderRadius: 3,\n      border: 0,\n      color: \"white\",\n      height: 48,\n      padding: \"0 30px\",\n      boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\"\n    },\n    label: {\n      textTransform: \"capitalize\"\n    }\n  })(Button);\n\n  const getValue = (type, index) => {\n    if (type === \"register\") switch (index) {\n      case \"0\":\n        {\n          return TcsId;\n        }\n\n      case \"1\":\n        {\n          return name;\n        }\n\n      case \"2\":\n        {\n          return password;\n        }\n\n      case \"3\":\n        {\n          return confirmpassword;\n        }\n\n      case \"4\":\n        {\n          return TcsId;\n        }\n    } else switch (index) {\n      case \"0\":\n        {\n          return TcsId;\n        }\n\n      case \"1\":\n        {\n          return password;\n        }\n    }\n  };\n\n  const getErrorMsg = () => {\n    switch (errorfield) {\n      case 0:\n        return \"Enter Valid TcsId !\";\n\n      case 1:\n        return \"Enter Valid Number !\";\n\n      case 2:\n        return \"Enter Valid Password !\";\n\n      case 3:\n        return \"Enter Same Password !\";\n\n      case 4:\n        return \"Enter Valid Email\";\n\n      case 5:\n        return \"Enter Valid Company\";\n\n      case 6:\n        return \"Enter Valid Address\";\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    \"aria-labelledby\": \"customized-dialog-title\",\n    open: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"customized-dialog-title\",\n    style: {\n      background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  }, !pageNumber ? \"Register\" : \"Login\", \" Yourself !\"), /*#__PURE__*/React.createElement(DialogContent, {\n    dividers: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.rootregister,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }\n  }, !pageNumber ? stringConstants.REGISTERFIELDS.map((ind, index) => /*#__PURE__*/React.createElement(TextField, {\n    key: index,\n    id: ind.id,\n    type: ind.type,\n    error: index === errorfield ? true : 0,\n    helperText: index === errorfield ? getErrorMsg() : \"\",\n    required: true,\n    label: ind.label,\n    color: \"primary\",\n    onChange: e => handleRegistrationFieldChange(e.target.value, ind.id),\n    value: getValue(\"register\", index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 21\n    }\n  })) : stringConstants.LOGINFIELDS.map((ind, index) => /*#__PURE__*/React.createElement(TextField, {\n    key: index,\n    id: ind.id,\n    type: ind.type,\n    error: index === errorfield ? true : 0,\n    helperText: index === errorfield ? \"UserTcsId or Password is Wrong\" : \"\",\n    required: true,\n    label: ind.label,\n    color: \"primary\",\n    onChange: e => handleLoginFieldChange(e.target.value, ind.id),\n    value: getValue(\"login\", index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 6,\n    lg: 6,\n    sm: 6,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(StyledButton, {\n    onClick: () => {\n      handleRegister();\n    },\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 17\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 6,\n    lg: 6,\n    sm: 6,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\",\n    alignContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(StyledButton, {\n    color: \"primary\",\n    onClick: e => handleLogin(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 19\n    }\n  }, !pageNumber ? \"Existing user\" : \"\", \" Login\")))))));\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/mallik/projects/Effort-tracker/src/Register.jsx"],"names":["React","withStyles","Button","Dialog","Slide","MuiDialogTitle","MuiDialogContent","MuiDialogActions","IconButton","CloseIcon","Typography","Grid","TextField","stringConstants","useStyles","loginUser","registerUser","styles","theme","root","margin","padding","spacing","DialogTitle","props","children","classes","onClose","other","closeButton","DialogContent","DialogActions","Register","open","setOpen","useState","TcsId","setTcsId","name","setName","password","setpassword","confirmpassword","setconfirmpassword","application","setapplication","email","setemail","errorfield","seterrorfield","pageNumber","setPageNumber","setUserEffort","setUserNamePassword","setMasterEffort","handleRegistrationFieldChange","val","type","console","log","handleLoginFieldChange","handleLogin","length","then","res","useEffort","handleRegister","userDetails","username","StyledButton","background","borderRadius","border","color","height","boxShadow","label","textTransform","getValue","index","getErrorMsg","rootregister","REGISTERFIELDS","map","ind","id","e","target","value","LOGINFIELDS"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { Dialog, Slide } from \"@material-ui/core\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Typography, Grid, TextField } from \"@material-ui/core\";\nimport stringConstants from \"./stringConstants.jsx\";\n\nimport useStyles from \"./styles.jsx\";\n\nimport { loginUser ,registerUser} from \"./service.js\";\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography classTcsId={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          classTcsId={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nfunction Register(props) {\n  const [open, setOpen] = React.useState(true);\n\n  const [TcsId, setTcsId] = React.useState(\" \");\n  const [name, setName] = React.useState(\" \");\n  const [password, setpassword] = React.useState(\" \");\n  const [confirmpassword, setconfirmpassword] = React.useState(\" \");\n  const [application, setapplication] = React.useState(\" \");\n  const [email, setemail] = React.useState(\" \");\n\n\n\n\n  const [errorfield, seterrorfield] = React.useState(-1);\n\n  const [pageNumber, setPageNumber] = React.useState(1);\n\n  const { setUserEffort,setUserNamePassword,setMasterEffort } = props;\n\n  const classes = useStyles();\n\n  const handleRegistrationFieldChange = (val, type) => {\n    switch (type) {\n      case \"TcsId\": {\n        setTcsId(val);\n        break;\n      }\n      case \"Name\": {\n        console.log(type,'type')\n        setName(val);\n        break;\n      }\n      case \"Gmail\": {\n        setTcsId(val);\n        break;\n      }\n      case \"password\": {\n        setpassword(val);\n        break;\n      }\n      case \"confirmpassword\": {\n        setconfirmpassword(val);\n        break;\n      }\n      case \"application\": {\n        setapplication(val);\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  const handleLoginFieldChange = (val, type) => {\n\n    switch (type) {\n        case \"TcsId\": {\n          setTcsId(val);\n          break;\n        }\n        case \"Password\": {\n            setpassword(val);\n          break;\n        }\n    }\n\n  }\n\n  const handleLogin = () => {\n    if (!pageNumber) setPageNumber(1);\n    else {\n      if (!TcsId || TcsId.length < 4) seterrorfield(0);\n      else if (!password || password.length < 4) seterrorfield(1);\n      else {\n        loginUser().then((res) => {\n          console.log(res, \"res loginUser\");\n\n          if (res) {setUserEffort(res.useEffort);setMasterEffort(res.useEffort);}\n          setUserNamePassword([TcsId,password])\n          setOpen(false);\n        });\n      }\n    }\n  };\n\n  const handleRegister = (type) => {\n    if (pageNumber) setPageNumber(0);\n\n    console.log(TcsId);\n    console.log(password);\n\n    console.log(name);\n\n    console.log(application);\n\n    if (!TcsId || TcsId.length < 4) seterrorfield(0);\n    else if (!name || name.length < 4) seterrorfield(1);\n    else if (!password || password.length < 4) seterrorfield(2);\n    else if (!application || application.length < 4) seterrorfield(4);\n    else if (TcsId && password) {\n\n      console.log(TcsId);\n      console.log(password);\n\n      console.log(TcsId);\n\n      console.log(application);\n\n      // console.log(application);\n\n\n\n      let userDetails = {\n        username:TcsId,\n        password:password,\n        email:TcsId,\n        application:application\n      }\n\n      registerUser(userDetails).then((res) => {\n        console.log(res, \"res registerUser\");\n        if (res) {\n          setUserNamePassword([TcsId,password])\n          setOpen(false);\n        }\n      })\n\n\n    }\n  };\n\n  const StyledButton = withStyles({\n    root: {\n      background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n      borderRadius: 3,\n      border: 0,\n      color: \"white\",\n      height: 48,\n      padding: \"0 30px\",\n      boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n    },\n    label: {\n      textTransform: \"capitalize\",\n    },\n  })(Button);\n\n  const getValue = (type, index) => {\n    if (type === \"register\")\n      switch (index) {\n        case \"0\": {\n          return TcsId;\n        }\n        case \"1\": {\n          return name;\n        }\n        case \"2\": {\n          return password;\n        }\n        case \"3\": {\n          return confirmpassword;\n        }\n        case \"4\": {\n          return TcsId;\n        }\n      }\n    else\n      switch (index) {\n        case \"0\": {\n          return TcsId;\n        }\n        case \"1\": {\n          return password;\n        }\n      }\n  };\n\n  const getErrorMsg = () => {\n    switch (errorfield) {\n      case 0:\n        return \"Enter Valid TcsId !\";\n      case 1:\n        return \"Enter Valid Number !\";\n      case 2:\n        return \"Enter Valid Password !\";\n      case 3:\n        return \"Enter Same Password !\";\n      case 4:\n        return \"Enter Valid Email\";\n      case 5:\n        return \"Enter Valid Company\";\n      case 6:\n        return \"Enter Valid Address\";\n    }\n  };\n\n  return (\n    <div>\n      {\n        <Dialog aria-labelledby=\"customized-dialog-title\" open={open}>\n          <DialogTitle\n            id=\"customized-dialog-title\"\n            style={{\n              background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n            }}\n          >\n            {!pageNumber ? \"Register\" : \"Login\"} Yourself !\n          </DialogTitle>\n\n          <DialogContent dividers>\n            <form className={classes.rootregister}>\n              {!pageNumber\n                ? stringConstants.REGISTERFIELDS.map((ind, index) => (\n                    <TextField\n                      key={index}\n                      id={ind.id}\n                      type={ind.type}\n                      error={index === errorfield ? true : 0}\n                      helperText={index === errorfield ? getErrorMsg() : \"\"}\n                      required\n                      label={ind.label}\n                      color=\"primary\"\n                      onChange={(e) =>\n                        handleRegistrationFieldChange(e.target.value, ind.id)\n                      }\n                      value={getValue(\"register\", index)}\n                    />\n                  ))\n                : stringConstants.LOGINFIELDS.map((ind, index) => (\n                    <TextField\n                      key={index}\n                      id={ind.id}\n                      type={ind.type}\n                      error={index === errorfield ? true : 0}\n                      helperText={\n                        index === errorfield\n                          ? \"UserTcsId or Password is Wrong\"\n                          : \"\"\n                      }\n                      required\n                      label={ind.label}\n                      color=\"primary\"\n                      onChange={(e) =>\n                        handleLoginFieldChange(e.target.value, ind.id)\n                      }\n                      value={getValue(\"login\", index)}\n                    />\n                  ))}\n            </form>\n          </DialogContent>\n          <DialogActions>\n            <Grid container>\n              <Grid item md={6} lg={6} sm={6} xs={6}>\n                <StyledButton\n                  onClick={() => {\n                    handleRegister();\n                  }}\n                  color=\"primary\"\n                >\n                  Register\n                </StyledButton>\n              </Grid>\n              <Grid item md={6} lg={6} sm={6} xs={6}>\n                <Grid container justify=\"flex-end\" alignContent=\"center\">\n                  <StyledButton color=\"primary\" onClick={(e) => handleLogin()}>\n                    {!pageNumber ? \"Existing user\" : \"\"} Login\n                  </StyledButton>\n                </Grid>\n              </Grid>\n            </Grid>\n          </DialogActions>\n        </Dialog>\n      }\n    </div>\n  );\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}